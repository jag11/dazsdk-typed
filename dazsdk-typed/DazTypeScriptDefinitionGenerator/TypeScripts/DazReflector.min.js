function pad(n,t,i){return i=i||"0",n=n+"",n.length>=t?n:new Array(t-n.length+1).join(i)+n}var Logger=function(){function n(){this.lines=[]}return n.prototype.clear=function(){this.lines=[]},n.prototype.info=function(t){for(var r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];this.write(n.INFO,t,r)},n.prototype.warn=function(t){for(var r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];this.write(n.WARN,t,r)},n.prototype.error=function(t){for(var r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];this.write(n.ERROR,t,r)},n.prototype.write=function(n,t,i){var u=new Date,r=String(t);i.forEach(function(n){r=r.arg(n)});r=String("%1:%2:%3 %4 [%5] %6").arg(u.getFullYear()).arg(u.getMonth(),2).arg(u.getDate(),2).arg(u.toTimeString().substring(0,8)).arg(n,5).arg(r);this.lines.push(r);print(r)},n.prototype.toString=function(){var n="";return this.lines.forEach(function(t){n+=t+"\n"}),n},n.INFO="INFO",n.WARN="WARN",n.ERROR="ERROR",n}(),logger=new Logger,Path=function(){function n(){}return n.changeExtension=function(n,t){if(t[0]!="."&&(t="."+t),n){var i=n.lastIndexOf(".");if(i!=-1)return n.substring(0,i)+t}return n.valueOf()+t.valueOf()},n.getDirectoryName=function(n){if(n)for(var t=n.length,i;--t>=0;)if(i=n[t],i=="/")return n.substring(0,t);return n},n.getExtension=function(n){var r=null,t,i;if(n)for(t=n.length;--t>=0;){if(i=n[t],i=="."){r=n.substring(t+1);break}if(i=="/")break}return r},n.hasExtension=function(n){if(n)for(var t=n.length,i;--t>=0;){if(i=n[t],i==".")return t!=n.length-1;if(i=="/")break}return!1},n.getFileName=function(n){if(n)for(var t=n.length,i;--t>=0;)if(i=n[t],i=="/")return n.substring(t+1);return n},n.getFileNameWithoutExtension=function(t){if(t=n.getFileName(t),!t)return t;var i=t.lastIndexOf(".");return i==-1?t:t.substring(0,i)},n.combine=function(){for(var t=[],n=0;n<arguments.length;n++)t[+n]=arguments[n];return t.join("/")},n}(),ApplicationSettingsBase=function(){function n(){}return n.prototype.load=function(){var r=new DzFile(n.configFileName),u,t,i;if(r.open(DzFile.ReadOnly)){u=r.readAll().convertToString();t=JSON.parse(u);for(i in t)this[i]=t[i]}},n.prototype.save=function(){var t=new DzFile(n.configFileName),i;t.open(DzFile.WriteOnly)&&(i=JSON.stringify(this,null,4),t.write(i))},n.prototype.reset=function(){var t=new DzFile(n.configFileName),i;t.open(DzFile.WriteOnly)&&(i=JSON.stringify({}),t.write(i))},n.configFileName=Path.changeExtension(getScriptFileName(),"json"),n}(),blacklist={"destroyed(QObject*)":!0,"destroyed()":!0},__types={object:"QObject",bool:"boolean",char:"QString",int:"number",float:"number",double:"number",quint32:"number",qint64:"number",short:"number",long:"number",QObjectList:"QObject[]",QStringList:"QString[]",QVariantList:"QVariant[]"},ParameterInfo=function(){function n(n,t){this.name=n;this.type=t;this.references=1}return n}(),MethodInfo=function(){function n(n,t){var u,i,e,f,r;if(this.parameters=[],t=t||"setUpBreadCrumbTrackingSignalWatch(QObject*,const char*,int)",u=t.indexOf("("),u!=-1){if(this.name=t.substring(0,u),i=t.substring(u+1,t.length-1),i=i.replace(/\&/g,""),i=i.replace(/\*/g,""),i=i.replace(/const/g,""),i=i.replace(/ /g,""),i=i.trim(),i.length>0)for(e=i.split(","),f=0;f<e.length;f++)r=e[f],__types[r]&&(r=__types[r]),this.parameters.push(new ParameterInfo(r,r))}else this.name=t}return n}(),PropertyInfo=function(){function n(n,t){this.name=t;this.type=typeof n[t];this.value=n[t];this.isStatic=t[0]==t[0].toUpperCase();this.type=="object"&&(this.type="QObject")}return n}(),Reflector=function(){function n(){this.name="";this.properties=[];this.methods=[];this.ancestorName=""}return n.prototype.initialize=function(){this.name="";this.properties=[];this.methods=[];this.ancestorName=""},n.prototype.setObject=function(n){this.initialize();this.name="anonymous";n.className&&(this.name=n.className());n.inherits("QObject")==!0&&(this.ancestorName="QObject");for(var t in n)typeof n[t]=="function"?this.addMethod(n,t):this.addProperty(n,t);return this.properties.sort(function(n,t){var i=n.isStatic?"S"+n.name:"T"+n.name,r=t.isStatic?"S"+t.name:"T"+t.name;return i.localeCompare(r)}),this.methods.sort(function(n,t){var i=n.name+pad(n.parameters.length.toString(),2),r=t.name+pad(t.parameters.length.toString(),2);return i.localeCompare(r)}),this},n.prototype.addProperty=function(n,t){this.properties.push(new PropertyInfo(n,t))},n.prototype.addMethod=function(n,t){this.methods.push(new MethodInfo(n,t))},n.prototype.toString=function(){var t="    ",r="%1: %2;\t// %3\n",u="static %1: %2;\t// %3\n",n="",i="";return this.ancestorName.length>0&&(i=String(" extends %1").arg(this.ancestorName)),n+=String("declare class %1%2 {\n").arg(this.name).arg(i),this.properties.forEach(function(i){var f=i.name.substr(0,1);n+=t+String(f==f.toUpperCase()?u:r).arg(i.name).arg(i.type).arg(i.value)}),this.methods.forEach(function(i){for(var f=i.name.endsWith("ed")?"void":"any",u=[],r=0;r<i.parameters.length;r++)u.push(new String("%1: %2").arg(String("p%1").arg(r)).arg(i.parameters[r].type));n+=String(t+"%1(%2): %3;\n").arg(i.name).arg(u.join(", ")).arg(f)}),n+="}\n"},n}(),reflector=new Reflector,ApplicationBase=function(){function n(n){this.START_TIME=Scene.getTime();this.APPLICATION_NAME="Application name";this.SHIFT_PRESSED=shiftPressed();this.CONTROL_PRESSED=ctrlPressed();this.MARGIN=6;this.SPACING=6;this.mainDialog=null;this.tabContainer=null;this.s=null;this.APPLICATION_NAME=n||this.APPLICATION_NAME;var t=new DzFile(getScriptFileName());this.SCRIPT_NAME=String("%1.%2").arg(t.baseName()).arg(t.extension())}return n.prototype.run=function(){this.initialize();this.mainDialog.exec();App.flushLogBuffer()},n.prototype.initialize=function(){var n=this,t;this.mainDialog=new DzDialog;this.mainDialog.caption=String("%1").arg(this.APPLICATION_NAME);this.mainDialog.width=600;this.mainDialog.height=400;t=new DzGridLayout(this.mainDialog);t.margin=this.MARGIN;t.spacing=this.SPACING;this.tabContainer=new DzTabWidget(this.mainDialog);t.addMultiCellWidget(this.tabContainer,0,0,0,2);this.tabContainer.addTab(function(){var t=new DzVGroupBox(n.tabContainer);return t.flat=!0,t.insideMargin=n.MARGIN,t.insideSpacing=n.SPACING,n.messages=new DzTextEdit(t),n.messages.append(logger.toString()),logger.clear(),t}(),"CONSOLE")},n}(),__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},DazReflectorApplication=function(n){function t(t){n.call(this,t);this.pixmapLabel=null}return __extends(t,n),t.prototype.initialize=function(){n.prototype.initialize.call(this);this.pixmapLabel=new DzLabel(this.tabContainer);this.tabContainer.addTab(this.pixmapLabel,"Pixmap")},t}(ApplicationBase),app=new DazReflectorApplication("Any app name");logger.info("An info message");logger.error("An error message");logger.warn("An %1 error message","darn");app.run();